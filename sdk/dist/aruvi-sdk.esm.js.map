{"version":3,"file":"aruvi-sdk.esm.js","sources":["../src/constants.ts","../src/CheckoutModal.ts","../src/AruviButton.ts","../src/verify.ts","../src/index.ts"],"sourcesContent":["/**\r\n * Aruvi SDK Constants\r\n * Contract addresses, ABIs, and configuration\r\n */\r\n\r\n// ============================================================================\r\n// Contract Addresses\r\n// ============================================================================\r\n\r\nexport const CONTRACTS = {\r\n  testnet: {\r\n    PaymentGateway: '0xf2Dd4FC2114e524E9B53d9F608e7484E1CD3271b' as const,\r\n    ConfidentialUSDCWrapper: '0xf99376BE228E8212C3C9b8B746683C96C1517e8B' as const,\r\n    chainId: 11155111,\r\n    chainName: 'Sepolia',\r\n    rpcUrl: 'https://rpc.sepolia.org', // Default public RPC - override with custom rpcUrl in config\r\n  },\r\n  mainnet: {\r\n    PaymentGateway: '0x...' as const, // Add when mainnet deployed\r\n    ConfidentialUSDCWrapper: '0x...' as const,\r\n    chainId: 1,\r\n    chainName: 'Ethereum',\r\n    rpcUrl: 'https://eth.llamarpc.com',\r\n  },\r\n} as const;\r\n\r\n// ============================================================================\r\n// Default Configuration\r\n// ============================================================================\r\n\r\nexport const DEFAULTS = {\r\n  appUrl: {\r\n    testnet: 'http://localhost:5173', // Change to https://testnet.aruvi.io when deployed\r\n    mainnet: 'https://app.aruvi.io',\r\n  },\r\n  theme: {\r\n    primaryColor: '#0070ba',\r\n    secondaryColor: '#003087',\r\n    borderRadius: 12,\r\n    fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n  },\r\n} as const;\r\n\r\n// ============================================================================\r\n// Payment Gateway ABI (simplified for SDK)\r\n// ============================================================================\r\n\r\nexport const PAYMENT_GATEWAY_ABI = [\r\n  {\r\n    name: 'PaymentSent',\r\n    type: 'event',\r\n    inputs: [\r\n      { name: 'paymentId', type: 'bytes32', indexed: true },\r\n      { name: 'from', type: 'address', indexed: true },\r\n      { name: 'to', type: 'address', indexed: true },\r\n    ],\r\n  },\r\n  {\r\n    name: 'PaymentRefunded',\r\n    type: 'event',\r\n    inputs: [\r\n      { name: 'paymentId', type: 'bytes32', indexed: true },\r\n    ],\r\n  },\r\n  {\r\n    name: 'getPaymentInfo',\r\n    type: 'function',\r\n    stateMutability: 'view',\r\n    inputs: [{ name: 'paymentId', type: 'bytes32' }],\r\n    outputs: [\r\n      { name: 'sender', type: 'address' },\r\n      { name: 'recipient', type: 'address' },\r\n      { name: 'token', type: 'address' },\r\n      { name: 'timestamp', type: 'uint256' },\r\n      { name: 'isRefunded', type: 'bool' },\r\n    ],\r\n  },\r\n  {\r\n    name: 'refunded',\r\n    type: 'function',\r\n    stateMutability: 'view',\r\n    inputs: [{ name: '', type: 'bytes32' }],\r\n    outputs: [{ name: '', type: 'bool' }],\r\n  },\r\n] as const;\r\n\r\n// ============================================================================\r\n// Checkout Iframe Messages\r\n// ============================================================================\r\n\r\nexport const MESSAGE_TYPES = {\r\n  // From merchant to checkout\r\n  INIT_CHECKOUT: 'ARUVI_INIT_CHECKOUT',\r\n  CLOSE_CHECKOUT: 'ARUVI_CLOSE_CHECKOUT',\r\n  \r\n  // From checkout to merchant\r\n  CHECKOUT_READY: 'ARUVI_CHECKOUT_READY',\r\n  CHECKOUT_CLOSED: 'ARUVI_CHECKOUT_CLOSED',\r\n  PAYMENT_PENDING: 'ARUVI_PAYMENT_PENDING',\r\n  PAYMENT_SUCCESS: 'ARUVI_PAYMENT_SUCCESS',\r\n  PAYMENT_ERROR: 'ARUVI_PAYMENT_ERROR',\r\n  PAYMENT_CANCELLED: 'ARUVI_PAYMENT_CANCELLED',\r\n} as const;\r\n\r\n// ============================================================================\r\n// Styling\r\n// ============================================================================\r\n\r\nexport const BUTTON_STYLES = {\r\n  base: `\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 8px;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease;\r\n    border: none;\r\n    text-decoration: none;\r\n  `,\r\n  sizes: {\r\n    small: `\r\n      height: 36px;\r\n      padding: 0 16px;\r\n      font-size: 14px;\r\n      border-radius: 8px;\r\n    `,\r\n    medium: `\r\n      height: 44px;\r\n      padding: 0 24px;\r\n      font-size: 15px;\r\n      border-radius: 10px;\r\n    `,\r\n    large: `\r\n      height: 52px;\r\n      padding: 0 32px;\r\n      font-size: 16px;\r\n      border-radius: 12px;\r\n    `,\r\n  },\r\n  variants: {\r\n    primary: `\r\n      background: linear-gradient(135deg, #0070ba 0%, #003087 100%);\r\n      color: #ffffff;\r\n    `,\r\n    secondary: `\r\n      background: #f5f7fa;\r\n      color: #003087;\r\n    `,\r\n    outline: `\r\n      background: transparent;\r\n      color: #0070ba;\r\n      border: 2px solid #0070ba;\r\n    `,\r\n    dark: `\r\n      background: #1a1a1a;\r\n      color: #ffffff;\r\n    `,\r\n  },\r\n  hover: {\r\n    primary: 'filter: brightness(1.1); transform: translateY(-1px);',\r\n    secondary: 'background: #e8ecf2;',\r\n    outline: 'background: rgba(0, 112, 186, 0.08);',\r\n    dark: 'background: #2a2a2a;',\r\n  },\r\n  disabled: `\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n    pointer-events: none;\r\n  `,\r\n} as const;\r\n\r\nexport const MODAL_STYLES = `\r\n  .aruvi-modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.6);\r\n    backdrop-filter: blur(4px);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 999999;\r\n    animation: aruvi-fade-in 0.2s ease;\r\n  }\r\n  \r\n  .aruvi-modal-container {\r\n    background: #ffffff;\r\n    border-radius: 16px;\r\n    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\r\n    width: 100%;\r\n    max-width: 420px;\r\n    max-height: 90vh;\r\n    overflow: hidden;\r\n    animation: aruvi-slide-up 0.3s ease;\r\n    position: relative;\r\n  }\r\n  \r\n  .aruvi-modal-header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 16px 20px;\r\n    border-bottom: 1px solid #e5e7eb;\r\n    background: linear-gradient(135deg, #0070ba 0%, #003087 100%);\r\n    color: white;\r\n  }\r\n  \r\n  .aruvi-modal-title {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .aruvi-modal-close {\r\n    background: rgba(255, 255, 255, 0.2);\r\n    border: none;\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: white;\r\n    transition: background 0.2s;\r\n  }\r\n  \r\n  .aruvi-modal-close:hover {\r\n    background: rgba(255, 255, 255, 0.3);\r\n  }\r\n  \r\n  .aruvi-modal-content {\r\n    padding: 0;\r\n  }\r\n  \r\n  .aruvi-modal-iframe {\r\n    width: 100%;\r\n    height: 500px;\r\n    border: none;\r\n  }\r\n  \r\n  .aruvi-modal-loading {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 300px;\r\n    gap: 16px;\r\n    color: #6b7280;\r\n  }\r\n  \r\n  .aruvi-spinner {\r\n    width: 40px;\r\n    height: 40px;\r\n    border: 3px solid #e5e7eb;\r\n    border-top-color: #0070ba;\r\n    border-radius: 50%;\r\n    animation: aruvi-spin 1s linear infinite;\r\n  }\r\n  \r\n  @keyframes aruvi-fade-in {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n  }\r\n  \r\n  @keyframes aruvi-slide-up {\r\n    from { \r\n      opacity: 0; \r\n      transform: translateY(20px) scale(0.95); \r\n    }\r\n    to { \r\n      opacity: 1; \r\n      transform: translateY(0) scale(1); \r\n    }\r\n  }\r\n  \r\n  @keyframes aruvi-spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    .aruvi-modal-container {\r\n      max-width: 100%;\r\n      max-height: 100%;\r\n      height: 100%;\r\n      border-radius: 0;\r\n    }\r\n    \r\n    .aruvi-modal-iframe {\r\n      height: calc(100vh - 60px);\r\n    }\r\n  }\r\n`;\r\n\r\n// ============================================================================\r\n// Logo SVG\r\n// ============================================================================\r\n\r\nexport const ARUVI_LOGO_SVG = `\r\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n  <circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"currentColor\" opacity=\"0.2\"/>\r\n  <path d=\"M10 20L16 12L22 20\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  <path d=\"M13 16L16 12L19 16\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n`;\r\n","/**\r\n * Aruvi Checkout Modal\r\n * Handles the checkout popup/modal for processing payments\r\n */\r\n\r\nimport type {\r\n  AruviConfig,\r\n  PaymentRequest,\r\n  AruviCallbacks,\r\n  PaymentResult,\r\n  PaymentError,\r\n} from './types';\r\nimport { DEFAULTS, MESSAGE_TYPES, MODAL_STYLES, ARUVI_LOGO_SVG } from './constants';\r\n\r\nexport class CheckoutModal {\r\n  private config: AruviConfig;\r\n  private modal: HTMLDivElement | null = null;\r\n  private iframe: HTMLIFrameElement | null = null;\r\n  private callbacks: AruviCallbacks = {};\r\n  private styleElement: HTMLStyleElement | null = null;\r\n  private messageHandler: ((event: MessageEvent) => void) | null = null;\r\n\r\n  constructor(config: AruviConfig) {\r\n    this.config = config;\r\n    this.injectStyles();\r\n  }\r\n\r\n  /**\r\n   * Inject modal styles into the document\r\n   */\r\n  private injectStyles(): void {\r\n    if (this.styleElement || document.getElementById('aruvi-modal-styles')) {\r\n      return;\r\n    }\r\n\r\n    this.styleElement = document.createElement('style');\r\n    this.styleElement.id = 'aruvi-modal-styles';\r\n    this.styleElement.textContent = MODAL_STYLES;\r\n    \r\n    // Apply custom theme\r\n    if (this.config.theme) {\r\n      let customStyles = '';\r\n      if (this.config.theme.primaryColor) {\r\n        customStyles += `\r\n          .aruvi-modal-header {\r\n            background: ${this.config.theme.primaryColor};\r\n          }\r\n          .aruvi-spinner {\r\n            border-top-color: ${this.config.theme.primaryColor};\r\n          }\r\n        `;\r\n      }\r\n      if (this.config.theme.borderRadius !== undefined) {\r\n        customStyles += `\r\n          .aruvi-modal-container {\r\n            border-radius: ${this.config.theme.borderRadius}px;\r\n          }\r\n        `;\r\n      }\r\n      if (this.config.theme.fontFamily) {\r\n        customStyles += `\r\n          .aruvi-modal-overlay, .aruvi-modal-container {\r\n            font-family: ${this.config.theme.fontFamily};\r\n          }\r\n        `;\r\n      }\r\n      this.styleElement.textContent += customStyles;\r\n    }\r\n    \r\n    document.head.appendChild(this.styleElement);\r\n  }\r\n\r\n  /**\r\n   * Get the app URL based on environment\r\n   */\r\n  private getAppUrl(): string {\r\n    if (this.config.appUrl) {\r\n      return this.config.appUrl;\r\n    }\r\n    const env = this.config.environment || 'testnet';\r\n    return DEFAULTS.appUrl[env];\r\n  }\r\n\r\n  /**\r\n   * Build the checkout URL with parameters\r\n   */\r\n  private buildCheckoutUrl(payment: PaymentRequest): string {\r\n    const baseUrl = this.getAppUrl();\r\n    const params = new URLSearchParams();\r\n    \r\n    // Required parameters\r\n    params.set('merchant', this.config.merchantAddress);\r\n    params.set('amount', payment.amount);\r\n    params.set('sdk', 'true');\r\n    \r\n    // Optional parameters\r\n    if (payment.reference) params.set('ref', payment.reference);\r\n    if (payment.description) params.set('desc', payment.description);\r\n    if (payment.customerEmail) params.set('email', payment.customerEmail);\r\n    if (payment.metadata) params.set('meta', JSON.stringify(payment.metadata));\r\n    if (payment.successUrl) params.set('success', payment.successUrl);\r\n    if (payment.cancelUrl) params.set('cancel', payment.cancelUrl);\r\n    \r\n    return `${baseUrl}/checkout?${params.toString()}`;\r\n  }\r\n\r\n  /**\r\n   * Create the modal DOM structure\r\n   */\r\n  private createModal(payment: PaymentRequest): HTMLDivElement {\r\n    const overlay = document.createElement('div');\r\n    overlay.className = 'aruvi-modal-overlay';\r\n    overlay.setAttribute('role', 'dialog');\r\n    overlay.setAttribute('aria-modal', 'true');\r\n    overlay.setAttribute('aria-labelledby', 'aruvi-modal-title');\r\n\r\n    const container = document.createElement('div');\r\n    container.className = 'aruvi-modal-container';\r\n\r\n    // Header\r\n    const header = document.createElement('div');\r\n    header.className = 'aruvi-modal-header';\r\n\r\n    const title = document.createElement('div');\r\n    title.className = 'aruvi-modal-title';\r\n    title.id = 'aruvi-modal-title';\r\n    title.innerHTML = `${ARUVI_LOGO_SVG} <span>Aruvi Checkout</span>`;\r\n\r\n    const closeBtn = document.createElement('button');\r\n    closeBtn.className = 'aruvi-modal-close';\r\n    closeBtn.setAttribute('aria-label', 'Close checkout');\r\n    closeBtn.innerHTML = `\r\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n        <path d=\"M18 6L6 18M6 6l12 12\"/>\r\n      </svg>\r\n    `;\r\n    closeBtn.onclick = () => this.close(true);\r\n\r\n    header.appendChild(title);\r\n    header.appendChild(closeBtn);\r\n\r\n    // Content\r\n    const content = document.createElement('div');\r\n    content.className = 'aruvi-modal-content';\r\n\r\n    // Loading state\r\n    const loading = document.createElement('div');\r\n    loading.className = 'aruvi-modal-loading';\r\n    loading.innerHTML = `\r\n      <div class=\"aruvi-spinner\"></div>\r\n      <p>Loading secure checkout...</p>\r\n    `;\r\n    content.appendChild(loading);\r\n\r\n    // Iframe\r\n    const iframe = document.createElement('iframe');\r\n    iframe.className = 'aruvi-modal-iframe';\r\n    iframe.style.display = 'none';\r\n    iframe.src = this.buildCheckoutUrl(payment);\r\n    iframe.setAttribute('allow', 'clipboard-write; web3');\r\n    iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox');\r\n    \r\n    iframe.onload = () => {\r\n      loading.style.display = 'none';\r\n      iframe.style.display = 'block';\r\n    };\r\n\r\n    content.appendChild(iframe);\r\n    this.iframe = iframe;\r\n\r\n    container.appendChild(header);\r\n    container.appendChild(content);\r\n    overlay.appendChild(container);\r\n\r\n    // Close on overlay click\r\n    overlay.onclick = (e) => {\r\n      if (e.target === overlay) {\r\n        this.close(true);\r\n      }\r\n    };\r\n\r\n    // Close on Escape key\r\n    const escapeHandler = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        this.close(true);\r\n        document.removeEventListener('keydown', escapeHandler);\r\n      }\r\n    };\r\n    document.addEventListener('keydown', escapeHandler);\r\n\r\n    return overlay;\r\n  }\r\n\r\n  /**\r\n   * Setup message listener for iframe communication\r\n   */\r\n  private setupMessageListener(): void {\r\n    this.messageHandler = (event: MessageEvent) => {\r\n      // Validate origin\r\n      const appUrl = this.getAppUrl();\r\n      if (!event.origin.includes(new URL(appUrl).host)) {\r\n        return;\r\n      }\r\n\r\n      const { type, data } = event.data || {};\r\n\r\n      switch (type) {\r\n        case MESSAGE_TYPES.CHECKOUT_READY:\r\n          // Checkout loaded successfully\r\n          break;\r\n\r\n        case MESSAGE_TYPES.PAYMENT_PENDING:\r\n          this.callbacks.onPending?.(data.transactionHash);\r\n          break;\r\n\r\n        case MESSAGE_TYPES.PAYMENT_SUCCESS:\r\n          const result: PaymentResult = {\r\n            success: true,\r\n            paymentId: data.paymentId,\r\n            transactionHash: data.transactionHash,\r\n            amount: data.amount,\r\n            customerAddress: data.customerAddress,\r\n            merchantAddress: this.config.merchantAddress,\r\n            blockNumber: data.blockNumber,\r\n            timestamp: data.timestamp,\r\n            reference: data.reference,\r\n            metadata: data.metadata,\r\n          };\r\n          this.callbacks.onSuccess?.(result);\r\n          this.close(false);\r\n          break;\r\n\r\n        case MESSAGE_TYPES.PAYMENT_ERROR:\r\n          const error: PaymentError = {\r\n            code: data.code || 'UNKNOWN',\r\n            message: data.message || 'Payment failed',\r\n            originalError: data.originalError,\r\n          };\r\n          this.callbacks.onError?.(error);\r\n          break;\r\n\r\n        case MESSAGE_TYPES.PAYMENT_CANCELLED:\r\n        case MESSAGE_TYPES.CHECKOUT_CLOSED:\r\n          this.close(true);\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('message', this.messageHandler);\r\n  }\r\n\r\n  /**\r\n   * Open the checkout modal\r\n   */\r\n  open(payment: PaymentRequest, callbacks: AruviCallbacks = {}): void {\r\n    // Close any existing modal\r\n    if (this.modal) {\r\n      this.close(false);\r\n    }\r\n\r\n    this.callbacks = callbacks;\r\n    this.modal = this.createModal(payment);\r\n    this.setupMessageListener();\r\n\r\n    // Add to DOM\r\n    document.body.appendChild(this.modal);\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    // Trigger callback\r\n    this.callbacks.onOpen?.();\r\n  }\r\n\r\n  /**\r\n   * Close the checkout modal\r\n   */\r\n  close(cancelled: boolean = false): void {\r\n    if (!this.modal) return;\r\n\r\n    // Remove message listener\r\n    if (this.messageHandler) {\r\n      window.removeEventListener('message', this.messageHandler);\r\n      this.messageHandler = null;\r\n    }\r\n\r\n    // Remove modal\r\n    this.modal.remove();\r\n    this.modal = null;\r\n    this.iframe = null;\r\n    document.body.style.overflow = '';\r\n\r\n    // Trigger callbacks\r\n    this.callbacks.onClose?.();\r\n    if (cancelled) {\r\n      this.callbacks.onCancel?.();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if modal is currently open\r\n   */\r\n  isOpen(): boolean {\r\n    return this.modal !== null;\r\n  }\r\n\r\n  /**\r\n   * Destroy the checkout modal and cleanup\r\n   */\r\n  destroy(): void {\r\n    this.close(false);\r\n    if (this.styleElement) {\r\n      this.styleElement.remove();\r\n      this.styleElement = null;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Aruvi Button\r\n * Embeddable \"Pay with Aruvi\" button for vanilla JS\r\n */\r\n\r\nimport type { AruviButtonOptions, ButtonVariant, ButtonSize } from './types';\r\nimport { BUTTON_STYLES, ARUVI_LOGO_SVG } from './constants';\r\n\r\nexport class AruviButton {\r\n  private container: HTMLElement;\r\n  private button: HTMLButtonElement | null = null;\r\n  private options: Required<AruviButtonOptions>;\r\n  private clickHandler: (() => void) | null = null;\r\n\r\n  private static defaultOptions: Required<AruviButtonOptions> = {\r\n    label: 'Pay with Aruvi',\r\n    variant: 'primary',\r\n    size: 'medium',\r\n    showLogo: true,\r\n    disabled: false,\r\n    className: '',\r\n  };\r\n\r\n  constructor(\r\n    container: HTMLElement | string,\r\n    options: AruviButtonOptions = {}\r\n  ) {\r\n    // Get container element\r\n    if (typeof container === 'string') {\r\n      const el = document.querySelector(container);\r\n      if (!el) {\r\n        throw new Error(`Aruvi: Container element \"${container}\" not found`);\r\n      }\r\n      this.container = el as HTMLElement;\r\n    } else {\r\n      this.container = container;\r\n    }\r\n\r\n    this.options = { ...AruviButton.defaultOptions, ...options };\r\n    this.render();\r\n  }\r\n\r\n  /**\r\n   * Generate button styles\r\n   */\r\n  private getStyles(): string {\r\n    const { variant, size, disabled } = this.options;\r\n    \r\n    let styles = BUTTON_STYLES.base;\r\n    styles += BUTTON_STYLES.sizes[size];\r\n    styles += BUTTON_STYLES.variants[variant];\r\n    \r\n    if (disabled) {\r\n      styles += BUTTON_STYLES.disabled;\r\n    }\r\n\r\n    return styles.replace(/\\s+/g, ' ').trim();\r\n  }\r\n\r\n  /**\r\n   * Render the button\r\n   */\r\n  private render(): void {\r\n    this.button = document.createElement('button');\r\n    this.button.type = 'button';\r\n    this.button.className = `aruvi-button ${this.options.className}`.trim();\r\n    this.button.disabled = this.options.disabled;\r\n    this.button.setAttribute('style', this.getStyles());\r\n\r\n    // Content\r\n    let content = '';\r\n    if (this.options.showLogo) {\r\n      content += `<span class=\"aruvi-button-logo\">${ARUVI_LOGO_SVG}</span>`;\r\n    }\r\n    content += `<span class=\"aruvi-button-label\">${this.options.label}</span>`;\r\n    this.button.innerHTML = content;\r\n\r\n    // Hover effects\r\n    const variant = this.options.variant;\r\n    this.button.onmouseenter = () => {\r\n      if (!this.options.disabled && this.button) {\r\n        this.button.setAttribute('style', this.getStyles() + BUTTON_STYLES.hover[variant]);\r\n      }\r\n    };\r\n    this.button.onmouseleave = () => {\r\n      if (this.button) {\r\n        this.button.setAttribute('style', this.getStyles());\r\n      }\r\n    };\r\n\r\n    // Clear container and append button\r\n    this.container.innerHTML = '';\r\n    this.container.appendChild(this.button);\r\n  }\r\n\r\n  /**\r\n   * Set click handler\r\n   */\r\n  onClick(handler: () => void): AruviButton {\r\n    this.clickHandler = handler;\r\n    if (this.button) {\r\n      this.button.onclick = handler;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Update button options\r\n   */\r\n  update(options: Partial<AruviButtonOptions>): AruviButton {\r\n    this.options = { ...this.options, ...options };\r\n    this.render();\r\n    if (this.clickHandler) {\r\n      this.onClick(this.clickHandler);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Set loading state\r\n   */\r\n  setLoading(loading: boolean): AruviButton {\r\n    if (!this.button) return this;\r\n\r\n    if (loading) {\r\n      this.button.disabled = true;\r\n      this.button.innerHTML = `\r\n        <span class=\"aruvi-spinner\" style=\"\r\n          width: 20px;\r\n          height: 20px;\r\n          border: 2px solid currentColor;\r\n          border-top-color: transparent;\r\n          border-radius: 50%;\r\n          animation: aruvi-spin 1s linear infinite;\r\n        \"></span>\r\n        <span>Processing...</span>\r\n      `;\r\n      \r\n      // Add animation if not already present\r\n      if (!document.getElementById('aruvi-button-styles')) {\r\n        const style = document.createElement('style');\r\n        style.id = 'aruvi-button-styles';\r\n        style.textContent = `\r\n          @keyframes aruvi-spin {\r\n            to { transform: rotate(360deg); }\r\n          }\r\n        `;\r\n        document.head.appendChild(style);\r\n      }\r\n    } else {\r\n      this.button.disabled = this.options.disabled;\r\n      this.render();\r\n      if (this.clickHandler) {\r\n        this.onClick(this.clickHandler);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Enable the button\r\n   */\r\n  enable(): AruviButton {\r\n    this.options.disabled = false;\r\n    if (this.button) {\r\n      this.button.disabled = false;\r\n      this.button.setAttribute('style', this.getStyles());\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Disable the button\r\n   */\r\n  disable(): AruviButton {\r\n    this.options.disabled = true;\r\n    if (this.button) {\r\n      this.button.disabled = true;\r\n      this.button.setAttribute('style', this.getStyles());\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Get the button element\r\n   */\r\n  getElement(): HTMLButtonElement | null {\r\n    return this.button;\r\n  }\r\n\r\n  /**\r\n   * Destroy the button\r\n   */\r\n  destroy(): void {\r\n    if (this.button) {\r\n      this.button.remove();\r\n      this.button = null;\r\n    }\r\n    this.clickHandler = null;\r\n  }\r\n}\r\n\r\n/**\r\n * Factory function to create buttons\r\n */\r\nexport function createAruviButton(\r\n  container: HTMLElement | string,\r\n  options?: AruviButtonOptions\r\n): AruviButton {\r\n  return new AruviButton(container, options);\r\n}\r\n","/**\r\n * Aruvi Payment Verification\r\n * Server-side utilities for verifying payments\r\n */\r\n\r\nimport type { VerificationResult, PaymentResult } from './types';\r\nimport { CONTRACTS, PAYMENT_GATEWAY_ABI } from './constants';\r\n\r\nexport interface VerifyOptions {\r\n  /**\r\n   * Payment ID to verify\r\n   */\r\n  paymentId: `0x${string}`;\r\n  \r\n  /**\r\n   * Expected merchant address\r\n   */\r\n  merchantAddress: `0x${string}`;\r\n  \r\n  /**\r\n   * Expected amount (optional - for additional validation)\r\n   */\r\n  expectedAmount?: string;\r\n  \r\n  /**\r\n   * Environment: 'testnet' or 'mainnet'\r\n   */\r\n  environment?: 'testnet' | 'mainnet';\r\n  \r\n  /**\r\n   * Custom RPC URL\r\n   */\r\n  rpcUrl?: string;\r\n}\r\n\r\n/**\r\n * Verify a payment on the blockchain\r\n * Can be used server-side with any HTTP client\r\n */\r\nexport async function verifyPayment(options: VerifyOptions): Promise<VerificationResult> {\r\n  const env = options.environment || 'testnet';\r\n  const rpcUrl = options.rpcUrl || CONTRACTS[env].rpcUrl;\r\n  const contractAddress = CONTRACTS[env].PaymentGateway;\r\n\r\n  try {\r\n    // Encode the function call for getPaymentInfo(bytes32 paymentId)\r\n    // Function selector: keccak256(\"getPaymentInfo(bytes32)\").slice(0, 10)\r\n    const functionSelector = '0xc6610657'; // getPaymentInfo(bytes32)\r\n    const encodedPaymentId = options.paymentId.slice(2).padStart(64, '0');\r\n    const data = functionSelector + encodedPaymentId;\r\n\r\n    // Make RPC call\r\n    const response = await fetch(rpcUrl, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        jsonrpc: '2.0',\r\n        id: 1,\r\n        method: 'eth_call',\r\n        params: [\r\n          {\r\n            to: contractAddress,\r\n            data: data,\r\n          },\r\n          'latest',\r\n        ],\r\n      }),\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    if (result.error) {\r\n      return {\r\n        verified: false,\r\n        error: result.error.message || 'RPC error',\r\n      };\r\n    }\r\n\r\n    // Decode the result\r\n    const decoded = decodePaymentResult(result.result);\r\n\r\n    if (!decoded) {\r\n      return {\r\n        verified: false,\r\n        error: 'Payment not found',\r\n      };\r\n    }\r\n\r\n    // Validate merchant address\r\n    if (decoded.recipient.toLowerCase() !== options.merchantAddress.toLowerCase()) {\r\n      return {\r\n        verified: false,\r\n        error: 'Merchant address mismatch',\r\n      };\r\n    }\r\n\r\n    // Check if payment was refunded\r\n    if (decoded.isRefunded) {\r\n      return {\r\n        verified: false,\r\n        error: 'Payment was refunded',\r\n      };\r\n    }\r\n\r\n    // Note: Amount is encrypted on-chain, so we cannot verify it here\r\n    // The amount validation must be done through other means if needed\r\n\r\n    const payment: PaymentResult = {\r\n      success: true,\r\n      paymentId: options.paymentId,\r\n      transactionHash: '0x' as `0x${string}`, // Would need additional lookup\r\n      amount: '0', // Amount is encrypted - cannot be read from chain\r\n      customerAddress: decoded.sender as `0x${string}`,\r\n      merchantAddress: decoded.recipient as `0x${string}`,\r\n      blockNumber: 0, // Would need additional lookup\r\n      timestamp: decoded.timestamp,\r\n    };\r\n\r\n    return {\r\n      verified: true,\r\n      payment,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      verified: false,\r\n      error: error instanceof Error ? error.message : 'Verification failed',\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Decode payment result from RPC response\r\n * Returns: (address sender, address recipient, address token, uint256 timestamp, bool isRefunded)\r\n */\r\nfunction decodePaymentResult(hexData: string): {\r\n  sender: string;\r\n  recipient: string;\r\n  token: string;\r\n  timestamp: number;\r\n  isRefunded: boolean;\r\n} | null {\r\n  if (!hexData || hexData === '0x' || hexData.length < 66) {\r\n    return null;\r\n  }\r\n\r\n  // Remove '0x' prefix\r\n  const data = hexData.slice(2);\r\n\r\n  // Decode: (address sender, address recipient, address token, uint256 timestamp, bool isRefunded)\r\n  const sender = '0x' + data.slice(24, 64);\r\n  const recipient = '0x' + data.slice(88, 128);\r\n  const token = '0x' + data.slice(152, 192);\r\n  const timestamp = parseInt(data.slice(192, 256), 16);\r\n  const isRefunded = parseInt(data.slice(256, 320), 16) !== 0;\r\n\r\n  // Check if payment exists (sender should not be zero address)\r\n  if (sender === '0x0000000000000000000000000000000000000000') {\r\n    return null;\r\n  }\r\n\r\n  return { sender, recipient, token, timestamp, isRefunded };\r\n}\r\n\r\n/**\r\n * Parse units (like ethers.parseUnits)\r\n */\r\nfunction parseUnits(value: string, decimals: number): bigint {\r\n  const [whole, fraction = ''] = value.split('.');\r\n  const paddedFraction = fraction.padEnd(decimals, '0').slice(0, decimals);\r\n  return BigInt(whole + paddedFraction);\r\n}\r\n\r\n/**\r\n * Format units (like ethers.formatUnits)\r\n */\r\nfunction formatUnits(value: bigint, decimals: number): string {\r\n  const str = value.toString().padStart(decimals + 1, '0');\r\n  const whole = str.slice(0, -decimals) || '0';\r\n  const fraction = str.slice(-decimals).replace(/0+$/, '');\r\n  return fraction ? `${whole}.${fraction}` : whole;\r\n}\r\n\r\n/**\r\n * Verify payment by transaction hash\r\n */\r\nexport async function verifyPaymentByTxHash(\r\n  transactionHash: `0x${string}`,\r\n  options: {\r\n    merchantAddress: `0x${string}`;\r\n    environment?: 'testnet' | 'mainnet';\r\n    rpcUrl?: string;\r\n  }\r\n): Promise<VerificationResult> {\r\n  const env = options.environment || 'testnet';\r\n  const rpcUrl = options.rpcUrl || CONTRACTS[env].rpcUrl;\r\n\r\n  try {\r\n    // Get transaction receipt\r\n    const receiptResponse = await fetch(rpcUrl, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        jsonrpc: '2.0',\r\n        id: 1,\r\n        method: 'eth_getTransactionReceipt',\r\n        params: [transactionHash],\r\n      }),\r\n    });\r\n\r\n    const receiptResult = await receiptResponse.json();\r\n\r\n    if (receiptResult.error || !receiptResult.result) {\r\n      return {\r\n        verified: false,\r\n        error: 'Transaction not found',\r\n      };\r\n    }\r\n\r\n    const receipt = receiptResult.result;\r\n\r\n    // Check transaction status\r\n    if (receipt.status !== '0x1') {\r\n      return {\r\n        verified: false,\r\n        error: 'Transaction failed',\r\n      };\r\n    }\r\n\r\n    // Look for PaymentSent event\r\n    // PaymentSent(bytes32 indexed paymentId, address indexed sender, address indexed recipient, uint256 amount)\r\n    const paymentSentTopic = '0x' + 'PaymentSent(bytes32,address,address,uint256)'\r\n      .split('')\r\n      .reduce((acc, char) => acc + char.charCodeAt(0).toString(16), '')\r\n      .padEnd(64, '0'); // Simplified - in production, use proper keccak256\r\n\r\n    const paymentLog = receipt.logs?.find((log: any) => \r\n      log.address.toLowerCase() === CONTRACTS[env].PaymentGateway.toLowerCase()\r\n    );\r\n\r\n    if (!paymentLog) {\r\n      return {\r\n        verified: false,\r\n        error: 'Payment event not found in transaction',\r\n      };\r\n    }\r\n\r\n    // Extract payment details from log\r\n    const paymentId = paymentLog.topics[1] as `0x${string}`;\r\n    const sender = ('0x' + paymentLog.topics[2].slice(26)) as `0x${string}`;\r\n    const recipient = ('0x' + paymentLog.topics[3].slice(26)) as `0x${string}`;\r\n    const amount = BigInt(paymentLog.data);\r\n\r\n    // Validate merchant\r\n    if (recipient.toLowerCase() !== options.merchantAddress.toLowerCase()) {\r\n      return {\r\n        verified: false,\r\n        error: 'Merchant address mismatch',\r\n      };\r\n    }\r\n\r\n    const payment: PaymentResult = {\r\n      success: true,\r\n      paymentId,\r\n      transactionHash,\r\n      amount: formatUnits(amount, 6),\r\n      customerAddress: sender,\r\n      merchantAddress: recipient,\r\n      blockNumber: parseInt(receipt.blockNumber, 16),\r\n      timestamp: Date.now(),\r\n    };\r\n\r\n    return {\r\n      verified: true,\r\n      payment,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      verified: false,\r\n      error: error instanceof Error ? error.message : 'Verification failed',\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Create a webhook signature for secure callbacks\r\n */\r\nexport function createWebhookSignature(\r\n  payload: string,\r\n  secret: string\r\n): string {\r\n  // In production, use proper HMAC-SHA256\r\n  // This is a placeholder - actual implementation would use crypto library\r\n  const encoder = new TextEncoder();\r\n  const data = encoder.encode(payload + secret);\r\n  let hash = 0;\r\n  for (let i = 0; i < data.length; i++) {\r\n    hash = ((hash << 5) - hash) + data[i];\r\n    hash = hash & hash;\r\n  }\r\n  return 'sha256=' + Math.abs(hash).toString(16).padStart(64, '0');\r\n}\r\n\r\n/**\r\n * Verify a webhook signature\r\n */\r\nexport function verifyWebhookSignature(\r\n  payload: string,\r\n  signature: string,\r\n  secret: string\r\n): boolean {\r\n  const expectedSignature = createWebhookSignature(payload, secret);\r\n  return signature === expectedSignature;\r\n}\r\n","/**\r\n * @aruvi/sdk\r\n * Official JavaScript SDK for Aruvi - Privacy-First Payments\r\n * \r\n * @example\r\n * // Initialize SDK\r\n * const aruvi = new Aruvi({\r\n *   merchantAddress: '0x...',\r\n *   environment: 'testnet',\r\n * });\r\n * \r\n * // Open checkout\r\n * aruvi.checkout({\r\n *   amount: '25.00',\r\n *   description: 'Premium Plan',\r\n *   onSuccess: (result) => {\r\n *     console.log('Payment successful!', result.paymentId);\r\n *   },\r\n *   onError: (error) => {\r\n *     console.error('Payment failed:', error.message);\r\n *   },\r\n * });\r\n */\r\n\r\nimport type {\r\n  AruviConfig,\r\n  PaymentRequest,\r\n  AruviCallbacks,\r\n  AruviButtonOptions,\r\n  PaymentResult,\r\n  PaymentError,\r\n  AruviEventType,\r\n  AruviEventHandler,\r\n  AruviEvent,\r\n} from './types';\r\nimport { CheckoutModal } from './CheckoutModal';\r\nimport { AruviButton, createAruviButton } from './AruviButton';\r\nimport { verifyPayment, verifyPaymentByTxHash } from './verify';\r\nimport { CONTRACTS, DEFAULTS } from './constants';\r\n\r\n// Re-export types\r\nexport type * from './types';\r\n\r\n// Re-export utilities\r\nexport { verifyPayment, verifyPaymentByTxHash } from './verify';\r\nexport { createAruviButton, AruviButton } from './AruviButton';\r\n\r\n/**\r\n * Main Aruvi SDK class\r\n */\r\nexport class Aruvi {\r\n  private config: AruviConfig;\r\n  private modal: CheckoutModal;\r\n  private eventListeners: Map<AruviEventType, Set<AruviEventHandler>> = new Map();\r\n\r\n  /**\r\n   * SDK Version\r\n   */\r\n  static readonly VERSION = '1.0.0';\r\n\r\n  /**\r\n   * Create a new Aruvi SDK instance\r\n   */\r\n  constructor(config: AruviConfig) {\r\n    if (!config.merchantAddress) {\r\n      throw new Error('Aruvi: merchantAddress is required');\r\n    }\r\n\r\n    if (!config.merchantAddress.startsWith('0x') || config.merchantAddress.length !== 42) {\r\n      throw new Error('Aruvi: Invalid merchantAddress format');\r\n    }\r\n\r\n    this.config = {\r\n      environment: 'testnet',\r\n      ...config,\r\n    };\r\n\r\n    this.modal = new CheckoutModal(this.config);\r\n  }\r\n\r\n  /**\r\n   * Open the checkout modal\r\n   */\r\n  checkout(\r\n    payment: PaymentRequest & AruviCallbacks\r\n  ): void {\r\n    const { onSuccess, onError, onCancel, onOpen, onClose, onPending, ...paymentData } = payment;\r\n\r\n    // Validate amount\r\n    if (!paymentData.amount || isNaN(parseFloat(paymentData.amount))) {\r\n      throw new Error('Aruvi: Valid amount is required');\r\n    }\r\n\r\n    const callbacks: AruviCallbacks = {\r\n      onSuccess: (result) => {\r\n        this.emit('payment:success', result);\r\n        onSuccess?.(result);\r\n      },\r\n      onError: (error) => {\r\n        this.emit('payment:error', error);\r\n        onError?.(error);\r\n      },\r\n      onCancel: () => {\r\n        this.emit('payment:cancel');\r\n        onCancel?.();\r\n      },\r\n      onOpen: () => {\r\n        this.emit('checkout:open');\r\n        onOpen?.();\r\n      },\r\n      onClose: () => {\r\n        this.emit('checkout:close');\r\n        onClose?.();\r\n      },\r\n      onPending: (txHash) => {\r\n        this.emit('payment:pending', { transactionHash: txHash });\r\n        onPending?.(txHash);\r\n      },\r\n    };\r\n\r\n    this.modal.open(paymentData, callbacks);\r\n  }\r\n\r\n  /**\r\n   * Close the checkout modal\r\n   */\r\n  closeCheckout(): void {\r\n    this.modal.close(true);\r\n  }\r\n\r\n  /**\r\n   * Check if checkout is open\r\n   */\r\n  isCheckoutOpen(): boolean {\r\n    return this.modal.isOpen();\r\n  }\r\n\r\n  /**\r\n   * Create a payment button\r\n   */\r\n  createButton(\r\n    container: HTMLElement | string,\r\n    payment: PaymentRequest & AruviCallbacks,\r\n    buttonOptions?: AruviButtonOptions\r\n  ): AruviButton {\r\n    const button = createAruviButton(container, buttonOptions);\r\n    \r\n    button.onClick(() => {\r\n      button.setLoading(true);\r\n      \r\n      this.checkout({\r\n        ...payment,\r\n        onSuccess: (result) => {\r\n          button.setLoading(false);\r\n          payment.onSuccess?.(result);\r\n        },\r\n        onError: (error) => {\r\n          button.setLoading(false);\r\n          payment.onError?.(error);\r\n        },\r\n        onCancel: () => {\r\n          button.setLoading(false);\r\n          payment.onCancel?.();\r\n        },\r\n        onClose: () => {\r\n          button.setLoading(false);\r\n          payment.onClose?.();\r\n        },\r\n      });\r\n    });\r\n\r\n    return button;\r\n  }\r\n\r\n  /**\r\n   * Generate a payment link\r\n   */\r\n  createPaymentLink(payment: PaymentRequest): string {\r\n    const appUrl = this.config.appUrl || DEFAULTS.appUrl[this.config.environment || 'testnet'];\r\n    const params = new URLSearchParams();\r\n    \r\n    params.set('to', this.config.merchantAddress);\r\n    params.set('amount', payment.amount);\r\n    \r\n    if (payment.reference) params.set('ref', payment.reference);\r\n    if (payment.description) params.set('desc', payment.description);\r\n    if (payment.metadata) params.set('meta', JSON.stringify(payment.metadata));\r\n    \r\n    return `${appUrl}/pay?${params.toString()}`;\r\n  }\r\n\r\n  /**\r\n   * Verify a payment\r\n   */\r\n  async verifyPayment(paymentId: `0x${string}`, expectedAmount?: string): Promise<boolean> {\r\n    const result = await verifyPayment({\r\n      paymentId,\r\n      merchantAddress: this.config.merchantAddress,\r\n      expectedAmount,\r\n      environment: this.config.environment,\r\n      rpcUrl: this.config.rpcUrl,\r\n    });\r\n    return result.verified;\r\n  }\r\n\r\n  /**\r\n   * Verify a payment by transaction hash\r\n   */\r\n  async verifyTransaction(transactionHash: `0x${string}`): Promise<boolean> {\r\n    const result = await verifyPaymentByTxHash(transactionHash, {\r\n      merchantAddress: this.config.merchantAddress,\r\n      environment: this.config.environment,\r\n      rpcUrl: this.config.rpcUrl,\r\n    });\r\n    return result.verified;\r\n  }\r\n\r\n  /**\r\n   * Add event listener\r\n   */\r\n  on(event: AruviEventType, handler: AruviEventHandler): () => void {\r\n    if (!this.eventListeners.has(event)) {\r\n      this.eventListeners.set(event, new Set());\r\n    }\r\n    this.eventListeners.get(event)!.add(handler);\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      this.eventListeners.get(event)?.delete(handler);\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Remove event listener\r\n   */\r\n  off(event: AruviEventType, handler: AruviEventHandler): void {\r\n    this.eventListeners.get(event)?.delete(handler);\r\n  }\r\n\r\n  /**\r\n   * Emit an event\r\n   */\r\n  private emit(type: AruviEventType, data?: any): void {\r\n    const event: AruviEvent = { type, data };\r\n    this.eventListeners.get(type)?.forEach((handler) => handler(event));\r\n  }\r\n\r\n  /**\r\n   * Get current configuration\r\n   */\r\n  getConfig(): AruviConfig {\r\n    return { ...this.config };\r\n  }\r\n\r\n  /**\r\n   * Get contract addresses\r\n   */\r\n  getContracts() {\r\n    const env = this.config.environment || 'testnet';\r\n    return CONTRACTS[env as keyof typeof CONTRACTS];\r\n  }\r\n\r\n  /**\r\n   * Destroy the SDK instance\r\n   */\r\n  destroy(): void {\r\n    this.modal.destroy();\r\n    this.eventListeners.clear();\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// UMD/Browser Global\r\n// ============================================================================\r\n\r\n/**\r\n * Global instance for simple usage\r\n */\r\nlet globalInstance: Aruvi | null = null;\r\n\r\n/**\r\n * Initialize the global Aruvi instance\r\n */\r\nexport function init(config: AruviConfig): Aruvi {\r\n  if (globalInstance) {\r\n    globalInstance.destroy();\r\n  }\r\n  globalInstance = new Aruvi(config);\r\n  return globalInstance;\r\n}\r\n\r\n/**\r\n * Get the global instance (must call init first)\r\n */\r\nexport function getInstance(): Aruvi {\r\n  if (!globalInstance) {\r\n    throw new Error('Aruvi: Call Aruvi.init() first');\r\n  }\r\n  return globalInstance;\r\n}\r\n\r\n/**\r\n * Quick checkout using global instance\r\n */\r\nexport function checkout(payment: PaymentRequest & AruviCallbacks): void {\r\n  getInstance().checkout(payment);\r\n}\r\n\r\n/**\r\n * Quick button creation using global instance\r\n */\r\nexport function button(\r\n  container: HTMLElement | string,\r\n  payment: PaymentRequest & AruviCallbacks,\r\n  options?: AruviButtonOptions\r\n): AruviButton {\r\n  return getInstance().createButton(container, payment, options);\r\n}\r\n\r\n// Default export\r\nexport default Aruvi;\r\n\r\n// For UMD builds, attach to window\r\nif (typeof window !== 'undefined') {\r\n  (window as any).Aruvi = {\r\n    Aruvi,\r\n    init,\r\n    getInstance,\r\n    checkout,\r\n    button,\r\n    createButton: createAruviButton,\r\n    verifyPayment,\r\n    verifyPaymentByTxHash,\r\n    VERSION: Aruvi.VERSION,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}